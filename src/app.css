@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tab bar styling — shared */
TabView {
  selected-tab-text-color: #2563eb;
}

/* iOS: let UITabBarController provide its native translucent blur, separator,
   dark-mode adaptation, and default inactive text color. */
.ns-ios TabView {
  tab-text-color: #8e8e93;
}

/* Android: match Material 3 BottomNavigationView appearance */
.ns-android TabView {
  tab-background-color: #f2f2f7;
  tab-text-color: #49454F;
  android-selected-tab-highlight-color: transparent;
}

.ns-dark.ns-android TabView {
  tab-background-color: #000000;
  tab-text-color: #CAC4D0;
}

/*
 * Android Page/ActionBar dark-mode styling
 * =========================================
 * iOS adapts natively via UIKit, so only .ns-android is targeted.
 *
 * 1. REQUIRED — Page and ActionBar on Android do not auto-adapt to dark mode.
 *    The .ns-dark.ns-android rules below are needed regardless of any bugs.
 *
 * 2. WORKAROUND — The .ns-android (light-mode) rules exist solely to work
 *    around a NativeScript CSS bug and can be removed once it is fixed:
 *
 *    When a NativeScript app launches in dark mode, CSS properties set by
 *    .ns-dark-qualified selectors (including Tailwind dark: utilities) become
 *    "sticky" — switching the device to light mode removes the .ns-dark class,
 *    but the dark values remain applied instead of reverting to their non-dark
 *    counterparts. This only occurs in the dark-start-then-switch-to-light
 *    direction; starting in light mode and toggling dark then back to light
 *    works correctly, suggesting the CSS engine fails to record fallback values
 *    for properties that are first resolved under .ns-dark.
 *
 *    Fix: declare explicit light-mode values so the CSS engine always has a
 *    concrete color to switch to when .ns-dark is removed.
 */

/* [REQUIRED] Dark-mode overrides */
.ns-dark.ns-android Page {
  background-color: #000000;
}

.ns-dark.ns-android ActionBar {
  background-color: #000000;
  color: #ffffff;
}

/* [WORKAROUND] Explicit light-mode values — remove once the bug above is fixed */
.ns-android Page {
  background-color: #f2f2f7;
}

.ns-android ActionBar {
  background-color: #f2f2f7;
  color: #333333;
}

/* iOS Page background — UIKit defaults to opaque white, which is too close to
   the bg-white cards.  Use the iOS "grouped" background gray so cards pop. */
.ns-ios Page {
  background-color: #f2f2f7;
}

.ns-dark.ns-ios Page {
  background-color: #000000;
}

/* Material Icons font class */
.material-icon {
  font-family: MaterialIcons-Regular;
}

/* App background */
.app-background {
  background-color: #f2f2f7;
}

.ns-dark .app-background {
  background-color: #000000;
}
